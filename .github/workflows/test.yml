name: test-scripts

on: push

jobs:
  test-ubuntu:
    name: test on ubuntu
    runs-on: ubuntu-latest
    steps:
      - name: checkout code
        uses: actions/checkout@v3

      - name: test dracula install
        run: ./setupscripts/dracula_install.sh

      - name: test ubuntu setup
        run: sudo ./setupscripts/init_setup.sh

      - name: test vim setup
        run: ./setupscripts/vim_setup.sh

  test-fedora:
    name: test on fedora
    runs-on: ubuntu-latest
    steps: 
      - name: checkout code
        uses: actions/checkout@v3

      - name: install docker
        run: sudo apt install docker

      - name: make fedora container 
        run: sudo docker run -it --name test -d fedora

      - name: copy files
        run: sudo docker cp ./setupscripts/init_setup.sh test:/home/

      - name: test script
        run: sudo docker exec -it test /home/init_setup.sh
        
  

        
